!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){var n,e,t,_,o,r,l={},i=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,e){for(var t in e)n[t]=e[t];return n}function a(n){var e=n.parentNode;e&&e.removeChild(n)}function s(e,t,_){var o,r,l,i={};for(l in t)"key"==l?o=t[l]:"ref"==l?r=t[l]:i[l]=t[l];if(arguments.length>2&&(i.children=arguments.length>3?n.call(arguments,2):_),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)void 0===i[l]&&(i[l]=e.defaultProps[l]);return f(e,i,o,r,null)}function f(n,_,o,r,l){var i={type:n,props:_,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==l?++t:l};return null!=e.vnode&&e.vnode(i),i}function p(n){return n.children}function d(n,e){this.props=n,this.context=e}function h(n,e){if(null==e)return n.__?h(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if(null!=(t=n.__k[e])&&null!=t.__e)return t.__e;return"function"==typeof n.type?h(n):null}function v(n){var e,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if(null!=(t=n.__k[e])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return v(n)}}function m(n){(!n.__d&&(n.__d=!0)&&_.push(n)&&!y.__r++||r!==e.debounceRendering)&&((r=e.debounceRendering)||o)(y)}function y(){for(var n;y.__r=_.length;)n=_.sort(function(n,e){return n.__v.__b-e.__v.__b}),_=[],n.some(function(n){var e,t,_,o,r,l;n.__d&&(r=(o=(e=n).__v).__e,(l=e.__P)&&(t=[],(_=c({},o)).__v=o.__v+1,H(l,o,_,e.__n,void 0!==l.ownerSVGElement,null!=o.__h?[r]:null,t,null==r?h(o):r,o.__h),L(t,o),o.__e!=r&&v(o)))})}function g(n,e,t,_,o,r,u,c,a,s){var d,v,m,y,g,w,x,C=_&&_.__k||i,E=C.length;for(t.__k=[],d=0;d<e.length;d++)if(null!=(y=t.__k[d]=null==(y=e[d])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y||"bigint"==typeof y?f(null,y,null,null,y):Array.isArray(y)?f(p,{children:y},null,null,null):y.__b>0?f(y.type,y.props,y.key,null,y.__v):y)){if(y.__=t,y.__b=t.__b+1,null===(m=C[d])||m&&y.key==m.key&&y.type===m.type)C[d]=void 0;else for(v=0;v<E;v++){if((m=C[v])&&y.key==m.key&&y.type===m.type){C[v]=void 0;break}m=null}H(n,y,m=m||l,o,r,u,c,a,s),g=y.__e,(v=y.ref)&&m.ref!=v&&(x||(x=[]),m.ref&&x.push(m.ref,null,y),x.push(v,y.__c||g,y)),null!=g?(null==w&&(w=g),"function"==typeof y.type&&null!=y.__k&&y.__k===m.__k?y.__d=a=b(y,a,n):a=k(n,y,m,C,g,a),s||"option"!==t.type?"function"==typeof t.type&&(t.__d=a):n.value=""):a&&m.__e==a&&a.parentNode!=n&&(a=h(m))}for(t.__e=w,d=E;d--;)null!=C[d]&&("function"==typeof t.type&&null!=C[d].__e&&C[d].__e==t.__d&&(t.__d=h(_,d+1)),S(C[d],C[d]));if(x)for(d=0;d<x.length;d++)T(x[d],x[++d],x[++d])}function b(n,e,t){var _,o;for(_=0;_<n.__k.length;_++)(o=n.__k[_])&&(o.__=n,e="function"==typeof o.type?b(o,e,t):k(t,o,o,n.__k,o.__e,e));return e}function k(n,e,t,_,o,r){var l,i,u;if(void 0!==e.__d)l=e.__d,e.__d=void 0;else if(null==t||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),l=null;else{for(i=r,u=0;(i=i.nextSibling)&&u<_.length;u+=2)if(i==o)break n;n.insertBefore(o,r),l=r}return void 0!==l?l:o.nextSibling}function w(n,e,t){"-"===e[0]?n.setProperty(e,t):n[e]=null==t?"":"number"!=typeof t||u.test(e)?t:t+"px"}function x(n,e,t,_,o){var r;n:if("style"===e)if("string"==typeof t)n.style.cssText=t;else{if("string"==typeof _&&(n.style.cssText=_=""),_)for(e in _)t&&e in t||w(n.style,e,"");if(t)for(e in t)_&&t[e]===_[e]||w(n.style,e,t[e])}else if("o"===e[0]&&"n"===e[1])r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+r]=t,t?_||n.addEventListener(e,r?E:C,r):n.removeEventListener(e,r?E:C,r);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in n)try{n[e]=null==t?"":t;break n}catch(n){}"function"==typeof t||(null!=t&&(!1!==t||"a"===e[0]&&"r"===e[1])?n.setAttribute(e,t):n.removeAttribute(e))}}function C(n){this.l[n.type+!1](e.event?e.event(n):n)}function E(n){this.l[n.type+!0](e.event?e.event(n):n)}function H(n,t,_,o,r,l,i,u,a){var s,f,h,v,m,y,b,k,w,x,C,E=t.type;if(void 0!==t.constructor)return null;null!=_.__h&&(a=_.__h,u=t.__e=_.__e,t.__h=null,l=[u]),(s=e.__b)&&s(t);try{n:if("function"==typeof E){if(k=t.props,w=(s=E.contextType)&&o[s.__c],x=s?w?w.props.value:s.__:o,_.__c?b=(f=t.__c=_.__c).__=f.__E:("prototype"in E&&E.prototype.render?t.__c=f=new E(k,x):(t.__c=f=new d(k,x),f.constructor=E,f.render=A),w&&w.sub(f),f.props=k,f.state||(f.state={}),f.context=x,f.__n=o,h=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=E.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=c({},f.__s)),c(f.__s,E.getDerivedStateFromProps(k,f.__s))),v=f.props,m=f.state,h)null==E.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==E.getDerivedStateFromProps&&k!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(k,x),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(k,f.__s,x)||t.__v===_.__v){f.props=k,f.state=f.__s,t.__v!==_.__v&&(f.__d=!1),f.__v=t,t.__e=_.__e,t.__k=_.__k,t.__k.forEach(function(n){n&&(n.__=t)}),f.__h.length&&i.push(f);break n}null!=f.componentWillUpdate&&f.componentWillUpdate(k,f.__s,x),null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(v,m,y)})}f.context=x,f.props=k,f.state=f.__s,(s=e.__r)&&s(t),f.__d=!1,f.__v=t,f.__P=n,s=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(o=c(c({},o),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(v,m)),C=null!=s&&s.type===p&&null==s.key?s.props.children:s,g(n,Array.isArray(C)?C:[C],t,_,o,r,l,i,u,a),f.base=t.__e,t.__h=null,f.__h.length&&i.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==l&&t.__v===_.__v?(t.__k=_.__k,t.__e=_.__e):t.__e=P(_.__e,t,_,o,r,l,i,a);(s=e.diffed)&&s(t)}catch(n){t.__v=null,(a||null!=l)&&(t.__e=u,t.__h=!!a,l[l.indexOf(u)]=null),e.__e(n,t,_)}}function L(n,t){e.__c&&e.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(n){n.call(t)})}catch(n){e.__e(n,t.__v)}})}function P(e,t,_,o,r,i,u,c){var s,f,p,d=_.props,v=t.props,m=t.type,y=0;if("svg"===m&&(r=!0),null!=i)for(;y<i.length;y++)if((s=i[y])&&(s===e||(m?s.localName==m:3==s.nodeType))){e=s,i[y]=null;break}if(null==e){if(null===m)return document.createTextNode(v);e=r?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,v.is&&v),i=null,c=!1}if(null===m)d===v||c&&e.data===v||(e.data=v);else{if(i=i&&n.call(e.childNodes),f=(d=_.props||l).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!c){if(null!=i)for(d={},y=0;y<e.attributes.length;y++)d[e.attributes[y].name]=e.attributes[y].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===e.innerHTML)||(e.innerHTML=p&&p.__html||""))}if(function(n,e,t,_,o){var r;for(r in t)"children"===r||"key"===r||r in e||x(n,r,null,t[r],_);for(r in e)o&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||t[r]===e[r]||x(n,r,e[r],t[r],_)}(e,v,d,r,c),p)t.__k=[];else if(y=t.props.children,g(e,Array.isArray(y)?y:[y],t,_,o,r&&"foreignObject"!==m,i,u,i?i[0]:_.__k&&h(_,0),c),null!=i)for(y=i.length;y--;)null!=i[y]&&a(i[y]);c||("value"in v&&void 0!==(y=v.value)&&(y!==e.value||"progress"===m&&!y)&&x(e,"value",y,d.value,!1),"checked"in v&&void 0!==(y=v.checked)&&y!==e.checked&&x(e,"checked",y,d.checked,!1))}return e}function T(n,t,_){try{"function"==typeof n?n(t):n.current=t}catch(n){e.__e(n,_)}}function S(n,t,_){var o,r;if(e.unmount&&e.unmount(n),(o=n.ref)&&(o.current&&o.current!==n.__e||T(o,null,t)),null!=(o=n.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(n){e.__e(n,t)}o.base=o.__P=null}if(o=n.__k)for(r=0;r<o.length;r++)o[r]&&S(o[r],t,"function"!=typeof n.type);_||null==n.__e||a(n.__e),n.__e=n.__d=void 0}function A(n,e,t){return this.constructor(n,t)}function N(t,_,o){var r,i,u;e.__&&e.__(t,_),i=(r="function"==typeof o)?null:o&&o.__k||_.__k,u=[],H(_,t=(!r&&o||_).__k=s(p,null,[t]),i||l,l,void 0!==_.ownerSVGElement,!r&&o?[o]:i?null:_.firstChild?n.call(_.childNodes):null,u,!r&&o?o:i?i.__e:_.firstChild,r),L(u,t)}function U(n,e){N(n,e,U)}function M(e,t,_){var o,r,l,i=c({},e.props);for(l in t)"key"==l?o=t[l]:"ref"==l?r=t[l]:i[l]=t[l];return arguments.length>2&&(i.children=arguments.length>3?n.call(arguments,2):_),f(e.type,i,o||e.key,r||e.ref,null)}n=i.slice,e={__e:function(n,e){for(var t,_,o;e=e.__;)if((t=e.__c)&&!t.__)try{if((_=t.constructor)&&null!=_.getDerivedStateFromError&&(t.setState(_.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n),o=t.__d),o)return t.__E=t}catch(e){n=e}throw n}},t=0,d.prototype.setState=function(n,e){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),"function"==typeof n&&(n=n(c({},t),this.props)),n&&c(t,n),null!=n&&this.__v&&(e&&this.__h.push(e),m(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},d.prototype.render=p,_=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,y.__r=0;var D,O,F,j=0,W=[],R=e.__b,I=e.__r,B=e.diffed,q=e.__c,$=e.unmount;function z(n,t){e.__h&&e.__h(O,n,j||t),j=0;var _=O.__H||(O.__H={__:[],__h:[]});return n>=_.__.length&&_.__.push({}),_.__[n]}function G(n){return j=1,function(n,e,t){var _=z(D++,2);return _.t=n,_.__c||(_.__=[Y(void 0,e),function(n){var e=_.t(_.__[0],n);_.__[0]!==e&&(_.__=[e,_.__[1]],_.__c.setState({}))}],_.__c=O),_.__}(Y,n)}function V(){W.forEach(function(n){if(n.__P)try{n.__H.__h.forEach(K),n.__H.__h.forEach(Q),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}}),W=[]}e.__b=function(n){O=null,R&&R(n)},e.__r=function(n){I&&I(n),D=0;var e=(O=n.__c).__H;e&&(e.__h.forEach(K),e.__h.forEach(Q),e.__h=[])},e.diffed=function(n){B&&B(n);var t=n.__c;t&&t.__H&&t.__H.__h.length&&(1!==W.push(t)&&F===e.requestAnimationFrame||((F=e.requestAnimationFrame)||function(n){var e,t=function(){clearTimeout(_),J&&cancelAnimationFrame(e),setTimeout(n)},_=setTimeout(t,100);J&&(e=requestAnimationFrame(t))})(V)),O=void 0},e.__c=function(n,t){t.some(function(n){try{n.__h.forEach(K),n.__h=n.__h.filter(function(n){return!n.__||Q(n)})}catch(_){t.some(function(n){n.__h&&(n.__h=[])}),t=[],e.__e(_,n.__v)}}),q&&q(n,t)},e.unmount=function(n){$&&$(n);var t=n.__c;if(t&&t.__H)try{t.__H.__.forEach(K)}catch(n){e.__e(n,t.__v)}};var J="function"==typeof requestAnimationFrame;function K(n){var e=O;"function"==typeof n.__c&&n.__c(),O=e}function Q(n){var e=O;n.__c=n.__(),O=e}function X(n,e){return!n||n.length!==e.length||e.some(function(e,t){return e!==n[t]})}function Y(n,e){return"function"==typeof e?e(n):e}function Z(){return(Z=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var _ in t)Object.prototype.hasOwnProperty.call(t,_)&&(n[_]=t[_])}return n}).apply(this,arguments)}function nn(n){this.getChildContext=function(){return n.context};var e=n.children,t=function(n,e){if(null==n)return{};var t,_,o={},r=Object.keys(n);for(_=0;_<r.length;_++)e.indexOf(t=r[_])>=0||(o[t]=n[t]);return o}(n,["context","children"]);return M(e,t)}function en(){var n=new CustomEvent("_preact",{detail:{},bubbles:!0,cancelable:!0});this.dispatchEvent(n),this._vdom=s(nn,Z({},this._props,{context:n.detail.context}),function n(e,t){if(3===e.nodeType)return e.data;if(1!==e.nodeType)return null;var _=[],o={},r=0,l=e.attributes,i=e.childNodes;for(r=l.length;r--;)"slot"!==l[r].name&&(o[l[r].name]=l[r].value,o[tn(l[r].name)]=l[r].value);for(r=i.length;r--;){var u=n(i[r],null),c=i[r].slot;c?o[c]=s(rn,{name:c},u):_[r]=u}var a=t?s(rn,null,_):_;return s(t||e.nodeName.toLowerCase(),o,a)}(this,this._vdomComponent)),(this.hasAttribute("hydrate")?U:N)(this._vdom,this._root)}function tn(n){return n.replace(/-(\w)/g,function(n,e){return e?e.toUpperCase():""})}function _n(n,e,t){if(this._vdom){var _={};_[n]=t=null==t?void 0:t,_[tn(n)]=t,this._vdom=M(this._vdom,_),N(this._vdom,this._root)}}function on(){N(this._vdom=null,this._root)}function rn(n,e){var t=this;return s("slot",Z({},n,{ref:function(n){n?(t.ref=n,t._listener||(t._listener=function(n){n.stopPropagation(),n.detail.context=e},n.addEventListener("_preact",t._listener))):t.ref.removeEventListener("_preact",t._listener)}}))}var ln=function(){return s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},s("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s("polyline",{points:"7 10 12 15 17 10"}),s("line",{x1:"12",y1:"15",x2:"12",y2:"3"}))},un=function(){return s("div",{className:"loader"},s("span",null),s("span",null))},cn=function(n){return s("style",null,"\n\n.button-link .error-message {\n  color:red;\n  font-size:0.9rem;\n  font-weight:bold;\n}\n\n.button-link button {\n  cursor: "+n.isLoading+" ? 'progress' : 'pointer';\n  flex-direction: 'row';\n  display: 'flex';\n}\n\n.loader {\n  margin: auto;\n  width: 25px;\n  height: 25px;\n  display: inline-block;\n  padding: 0px;\n  text-align: left;\n}\n.loader span {\n  position: absolute;\n  display: inline-block;\n  width: 25px;\n  height: 25px;\n  border-radius: 100%;\n  background: #fff;\n  -webkit-animation: loader 1s linear infinite;\n  animation: loader 1s linear infinite;\n}\n.loader span:last-child {\n  animation-delay: -0.4s;\n  -webkit-animation-delay: -0.4s;\n}\n\n.loader-container > .message {\n  font-style: italic;\n  margin: 20px auto;\n}\n@keyframes loader {\n  0% {\n    transform: scale(0, 0);\n    opacity: 0.8;\n  }\n  100% {\n    transform: scale(1, 1);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes loader {\n  0% {\n    -webkit-transform: scale(0, 0);\n    opacity: 0.8;\n  }\n  100% {\n    -webkit-transform: scale(1, 1);\n    opacity: 0;\n  }\n}\n")},an="Le téléservice ne répond pas. Merci d’utiliser le lien vers le site de l'INPI à la place";!function(n,e,t,_){function o(){var e=Reflect.construct(HTMLElement,[],o);return e._vdomComponent=n,e._root=e,e}(o.prototype=Object.create(HTMLElement.prototype)).constructor=o,o.prototype.connectedCallback=en,o.prototype.attributeChangedCallback=_n,o.prototype.disconnectedCallback=on,t=t||n.observedAttributes||Object.keys(n.propTypes||{}),o.observedAttributes=t,t.forEach(function(n){Object.defineProperty(o.prototype,n,{get:function(){return this._vdom.props[n]},set:function(e){this._vdom?this.attributeChangedCallback(n,null,e):(this._props||(this._props={}),this._props[n]=e,this.connectedCallback());var t=typeof e;null!=e&&"string"!==t&&"boolean"!==t&&"number"!==t||this.setAttribute(n,e)}})}),customElements.define("partial-button-async",o)}(function(n){var t=G(!1),_=t[0],o=t[1],r=G(null),l=r[0],i=r[1],u=(j=5,function(n,e){var t=z(D++,7);return X(t.__H,e)&&(t.__={current:null},t.__H=e,t.__h=function(){return{current:null}}),t.__}(0,[]));return function(t,_){var o=z(D++,3);!e.__s&&X(o.__H,_)&&(o.__=function(){if(n.clean){var e=document.getElementById(n.clean);e&&e.remove()}},o.__H=_,O.__H.__h.push(o))}(0,[n.clean]),s("div",{className:"button-link",ref:u},s(cn,{isLoading:_}),l&&s("div",{className:"error-message"},l),s("button",{onClick:function(){_||(i(null),o(!0),fetch(n.to).then(function(n){if(n.redirected)throw new Error("Redirected to error page");try{n.blob().then(function(n){var e=window.URL.createObjectURL(n),t=document.createElement("a");t.href=e,t.download="immatriculation.pdf",t.click()})}catch(e){i(an),window.location.href=n.url}finally{o(!1)}}).catch(function(n){i(an),o(!1)}))}},_?s(p,null,s(un,null),s("div",null,s("i",null,"Téléchargement en cours"))):s(p,null,s(ln,null),s("span",null,"Télécharger le justificatif d’immatriculation"))))},0,["clean","to"])});
//# sourceMappingURL=index.js.map
